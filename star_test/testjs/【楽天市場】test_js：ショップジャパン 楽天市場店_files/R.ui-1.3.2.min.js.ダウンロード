if(Rmodules && typeof Rmodules.define === 'function') { Rmodules.define('R.ui', '1.3.2', ['R^1'], [], function(R, undefined) {
/*
 R.ui-1.3.2.js
 Copyright (c) 2018 Rakuten.Inc
 Date: 2018-04-06 12:26:23
*/

var RUi=function(a,b){"use strict";a.$;return a.ui={},a.ui}(R);!function(a,b){"use strict";var c=a.$,d=.25,e={APPEND:1,PREPEND:2},f={NONE:1,ALPHA:2,SLIDE:3},g={NONE:1,SOFT:2,HARD:3},h={FIXED:1,FLOW:2,LIQUID_FIXED:3,LIQUID_FLOW:4},i={LEFT:1,CENTER:2,RIGHT:3},j={LIST:1,SCROLLBAR:2,FIXED_LIST:3,NONE:4},k={SIMPLE:"SIMPLE",DRAG:"DRAG"},l={NONE:"NONE",AUTO:"AUTO"},m=function(n,o,p){function q(d,e,g){function h(){ca.scroll(-1,b,-1)}function i(){ca.scroll(1,b,1)}var j,k;if(ca=this,da=c.extend(!0,m.getPcOptions(),g),
ja=c(d),ja.addClass(da.css.slideshowClass),qa.slideshow=ja.find("."+da.css.slideshowBodyClass),qa.itemsContainer=ja.find("."+da.css.itemsContainerClass),qa.prevButton=da.buttonPrevEl||ja.find("."+da.css.prevButtonClass),qa.nextButton=da.buttonNextEl||ja.find("."+da.css.nextButtonClass),ga=e.itemWidth,E(),da.css.itemRemoveButton&&qa.itemsContainer.on("click","."+da.css.itemRemoveButton,function(a){ca.removeItems(c(a.target).closest("."+da.css.itemClass))}),j=e.itemTemplate?e.itemTemplate.data:e.itemElements,
ea=e.itemTemplate&&e.itemTemplate.html,fa=e.itemTemplate&&e.itemTemplate.escapeData,a.isArray(j))for(pa=j.length,k=0;pa>k;k++)oa.push(F(j[k]).width(ga));pa>=da.hideOnMin&&da.hideOnEmpty&&c(da.hideOnEmpty).show(),L(da.beforeFirstRender,[ca]),c(document).on("click","."+da.css.itemClass,function(a){var b=c(a.currentTarget).attr("data-index"),d=G(b);L(da.onItemClick,[ca,d,a])}),da.noPagination?s():da.previewNextPage?r():(qa.prevButton.click(h),qa.nextButton.click(i),c(window).resize(function(){setTimeout(ca.resize,1);
}),da.swipe&&(a.onSwipeLeft(qa.itemsContainer,i),a.onSwipeRight(qa.itemsContainer,h)),N(),ja.find("."+da.css.indexContainerClass).append(qa.index),na=ca.getScrollLoop(),la.length>0&&Y(0,0,f.NONE,!0,!0),W(),pa<da.hideOnMin&&da.hideOnEmpty?c(da.hideOnEmpty).hide():ba())}function r(){var b;ka=0,b=c("<ul></ul>",{"class":da.css.pageClass}).append(oa),qa.itemsContainer.addClass(da.css.previewNextClass).append(b),N(),ja.find("."+da.css.indexContainerClass).append(qa.index),W(),v(),t(),J(0),c(window).on("resize",function(){
var b=a.browser.isTablet||a.browser.isMobile?da.onOrientationChange:da.onResize;X(),L(b,[ca])}),ba()}function s(){function b(a){var b=300,c="swing",d=qa.itemsContainer.scrollLeft(),e=sa.slideWidth*(Math.ceil(d/sa.slideWidth)+a);qa.itemsContainer.stop().animate({scrollLeft:e},b,c)}var d;d=c("<ul></ul>",{"class":da.css.pageClass}).append(oa),qa.itemsContainer.addClass(da.css.noPaginationClass),qa.itemsContainer.append(d),ba(),t(),u(),da.scrollMode===k.SIMPLE||!a.browser.isTablet&&!a.browser.isMobile?(c(window).on("resize",function(){
t(),L(da.onResize,[ca])}),qa.itemsContainer.addClass(da.css.simpleScrollClass),qa.prevButton.click(function(){b(-1)}),qa.nextButton.click(function(){b(1)})):(c(window).on("orientationchange",function(){t(),L(da.onOrientationChange,[ca])}),v(),qa.prevButton.click(function(){A(sa.index-1)}),qa.nextButton.click(function(){A(sa.index+1)}))}function t(){ia=M(),sa.slideWidth=ga*Math.floor(ia),sa.slides=Math.ceil(pa/Math.floor(ia))-1,da.imageLazyLoad&&a.imageLazyLoad(qa.itemsContainer,da.imageLazyLoad)}
function u(){var a=null;qa.itemsContainer.scroll(function(){a&&clearTimeout(a),a=setTimeout(function(){a=null,L(da.onScrollEnd)},250)})}function v(){ja.on("touchstart",B),ja.on("touchmove",C),ja.on("touchend",D)}function w(){var a=0>ka-1?la.length-1:ka-1;L(da.onScrollStart,[ca,a,ka]),y(e.PREPEND),qa.slideshow.css({left:-sa.slideWidth}),ka=a,z(0,function(){L(da.onScrollEnd,[ca,ka,a])})}function x(){var a=ka+1>=la.length?0:ka+1;L(da.onScrollStart,[ca,a,ka]),ka=a,z(-sa.slideWidth,function(){y(e.APPEND),
qa.slideshow.css({left:0}),L(da.onScrollEnd,[ca,ka,a])})}function y(a){var b=qa.slideshow.find("ul"),c=b.find("li");switch(a){case e.APPEND:c.slice(0,ia).appendTo(b);break;case e.PREPEND:c.slice(-ia).prependTo(b);break;default:return[]}}function z(b,c){ra=!0,a.animate(qa.slideshow,{left:b},da.scrollDuration,null,function(){ra=!1,L(c)})}function A(a){sa.slideWidth||t(),a=!a||0>a?0:a,a=a>sa.slides?sa.slides:a,sa.index=a,ja.addClass("animate").css("transform","translate3d(-"+a*sa.slideWidth+"px, 0, 0)");
}function B(a){var b=250;sa.longTouch=!1,setTimeout(function(){sa.longTouch=!0},b),sa.touchstartx=a.originalEvent.touches[0].pageX,sa.movex=0,ja.removeClass("animate")}function C(b){var c=b.originalEvent.touches[0].pageX;if(sa.movex=sa.index*sa.slideWidth+(sa.touchstartx-c),da.previewNextPage){if(Math.abs(sa.movex)<30)return;if(a.browser.isMobile&&b.preventDefault(),ra||!sa.released||la.length<da.indexMinPages)return;sa.released=!1,sa.movex>0?x():w(),J(la[ka].n)}else ja.css("transform","translate(-"+sa.movex+"px,0)");
}function D(){var a;return da.previewNextPage?void(sa.released=!0):(a=Math.abs(sa.index*sa.slideWidth-sa.movex),void(sa.movex&&((a>sa.slideWidth/2||sa.longTouch===!1)&&(sa.movex>sa.index*sa.slideWidth&&sa.index<sa.slides?sa.index++:sa.movex<sa.index*sa.slideWidth&&sa.index>0&&sa.index--),A(sa.index))))}function E(){if(!ga)throw"itemData.itemWidth is required";if(da.itemStyle===h.FIXED&&!da.itemsPerPage)throw"options.itemsPerPage is required if options.itemStyle is FIXED";if(da.indexStyle===j.SCROLLBAR)throw"IndexStyle.SCROLLBAR is not implemented";
}function F(b){var d,e=a.getUniqueId();return d=ea?c(a.applyTemplate(ea,b,fa)):b,c("<li>",{"data-index":e,"class":da.css.itemClass}).append(d)}function G(a){var b;return c.each(oa,function(d,e){return c(e).attr("data-index")===a?(b=d,!1):void 0}),b}function H(a,b){switch(da.indexStyle){case j.LIST:case j.FIXED_LIST:return I(a,b);case j.SCROLLBAR:}}function I(a,b){function d(b){return function(){a(b)}}var e,f,g;if(b?b.empty():b=c("<ul></ul>",{"class":da.css.indexClass}),la.length>0)for(e=0,f=ma.length;f>e;e++)g=c("<li></li>",{
text:e,"class":da.css.indexItemClass}),da.indexClickable&&g.click(d(e)),b.append(g);return b}function J(a){switch(da.indexStyle){case j.LIST:case j.FIXED_LIST:return K(a);case j.SCROLLBAR:}}function K(a){qa.index.children().removeClass(da.css.indexItemActiveClass).eq(a).addClass(da.css.indexItemActiveClass)}function L(b,c){a.isFunction(b)&&b.apply(null,c)}function M(a){return Math.min(pa,(a||qa.itemsContainer.width())/ga|0)}function N(b,c){function d(b,c){return-1!==a.find(b,function(a){return a===c;
})}function e(b){return-1!==a.find(la,function(a){return a.items[0]===b[0]})}var f,g,k,m,n,o,p,q,r,s=0;if(q=(b||qa.itemsContainer.width())/ga|0,(da.itemStyle===h.LIQUID_FIXED||da.itemStyle===h.FIXED)&&(q=Math.min(da.itemsPerPage,q)),p=Math.min(pa,q),0===p&&(p=1),q!==ha||c){switch(da.itemAlign===i.CENTER&&(p-=1-p%2),ha=q,ia=p,r=Math.ceil(pa/ha)-1,la=[],da.itemAlign){case i.LEFT:k=0;break;case i.CENTER:k=(-(ia/2|0)+oa.length)%oa.length;break;case i.RIGHT:k=(oa.length-ia+1)%oa.length}if(m=(k-1+oa.length)%oa.length,
o=k-1,oa.length>0)for(;(g=O(o,n),g&&!e(g))&&(d(g,k)?s=0:s!==r||d(g,m)||s--,da.indexStyle===j.LIST?f=s:da.indexStyle===j.FIXED_LIST&&(f=0===s?0:s===r?2:1),la.push({items:g,n:f}),o=g[g.length-1],null==n&&(n=la.length>0&&la[0].items[0]),o!==m);)s++;if(da.lastPageFill===l.AUTO&&la[s].items.length!==la[0].items.length)for(var t=la[s].items.length,u=la[0].items.length-t,v=0;u>v;v++)la[s].items.push(la[0].items[v]);P()}}function O(a,b){var c=[],d=ia,e=ca.getScrollLoop();if(a=(a+1+oa.length)%oa.length,a!==b){
for(;d>0&&(oa[a]&&(c.push(a),d--),a=(a+1+oa.length)%oa.length,e===g.SOFT||a!==b););return c}}function P(){var a=0,b=2;if(ma=[],!qa.index&&(0===la.length||da.indexStyle===j.NONE))return void(qa.index=c());for(;la[a]&&a===la[a].n;)ma.push(a),a++;da.indexStyle===j.LIST&&(b=la.length-1),ma[b]=la.length-1,qa.index=H(ca.scrollTo,qa.index)}function Q(a){var b,d,e=c("<ul></ul>",{"class":da.css.pageClass}),f=[],g=la[a].items,h=S(a);for(b=0,d=g.length;d>b;b++)f.push(oa[g[b]].width(h));return e.append(f),e}
function R(b,d){var e,f,g;if(a.isNumber(b))return 0>b&&(b+=oa.length+d),b;if(b instanceof c){for(b=b[0],e=0,f=oa.length;f>e;e++)if(g=oa[e],g&&b===g[0])return e;return null}if(a.isDom(b)){for(e=0,f=oa.length;f>e;e++)if(g=oa[e],g&&b===g[0])return e;return null}throw"Wrong parameter"}function S(a){var c;return a=a===b?ka:a,c=da.itemStyle===h.LIQUID_FIXED||da.itemStyle===h.LIQUID_FLOW?(100/la[a].items.length).toFixed(3):(100/ha).toFixed(3),c+"%"}function T(){var a=qa.slideshow.find("img"),b=parseInt(a.css("borderLeftWidth"),10)||0,c=parseInt(a.css("borderRightWidth"),10)||0,d=parseInt(qa.slideshow.css("marginLeft"),10)||0;
return ia*ga+ia*(b+c)+d}function U(){var a=qa.slideshow.find("img"),b=parseInt(a.css("borderLeftWidth"),10)||0,d=parseInt(a.css("borderRightWidth"),10)||0,e=ga-b-d,f=parseInt(qa.itemsContainer.scrollLeft()/e,10),g=Math.round(qa.slideshow.width()/e);return c.map(oa,function(a,b){return b}).slice(f,f+g)}function V(a){na===g.NONE?(0===a?qa.prevButton.addClass(da.css.scrollButtonDisabledClass):qa.prevButton.removeClass(da.css.scrollButtonDisabledClass),a===la.length-1?qa.nextButton.addClass(da.css.scrollButtonDisabledClass):qa.nextButton.removeClass(da.css.scrollButtonDisabledClass)):oa.length<=ha?(qa.prevButton.addClass(da.css.scrollButtonDisabledClass),
qa.nextButton.addClass(da.css.scrollButtonDisabledClass)):(qa.prevButton.removeClass(da.css.scrollButtonDisabledClass),qa.nextButton.removeClass(da.css.scrollButtonDisabledClass))}function W(){da.indexMinPages&&la.length>=da.indexMinPages?qa.index.show():qa.index.hide()}function X(){if(da.previewNextPage){var b=la[ka];return t(),N(),c.each(la,function(a,c){return c.items[0]===b.items[0]?(ka=a,!1):void 0}),void J(la[ka].n)}N(null,!0),ka=a.clamp(ka,0,la.length-1),na=ca.getScrollLoop(),W(),la.length>0&&Y(ka,0,f.NONE,!0,!0);
}function Y(c,d,e,g,h,i){if(c!==ka&&!ra||h){ra=!0;var j,k=ka;switch(d===b&&(d=da.scrollDuration),e===b&&(e=da.scrollEffect),g||L(da.onScrollStart,[ca,ka,c]),V(c),e){case f.NONE:j=$;break;case f.ALPHA:j=_;break;case f.SLIDE:j=aa}J(la[c].n),ja.addClass(da.css.scrollingClass),j(c,d,i).done(function(){ka=c,ra=!1,ja.removeClass(da.css.scrollingClass),g||L(da.onScrollEnd,[ca,c,k])}),da.imageLazyLoad&&a.imageLazyLoad(qa.itemsContainer,da.imageLazyLoad)}}function Z(a,b){return 0===a&&b===la.length-1?-1:a===la.length-1&&0===b?1:b-a;
}function $(a,b,d){var e=c.Deferred(),f=Q(a);return qa.activePage&&qa.activePage.remove(),qa.activePage=f,f.css("left",0),f.appendTo(qa.itemsContainer),f.children("li").css("opacity",1),e.resolve(),e.promise()}function _(e,f,g){function h(b,c,d,e){return function(){d>0&&b.css("visibility","visible"),a.animate(b,{opacity:d},c,null,e)}}function i(a,c,e){var f,i,j,k=a.length,l=da.scrollDuration/((k-1)*d+1),m=l*d,n=0;for(g>0?(f=k-1,i=-1,j=-1):(f=0,i=k,j=1);f!==i;)n+=m,window.setTimeout(h(a.eq(f),l,c,f+j===i?e:b),n),
f+=j}var j=c.Deferred(),k=Q(e),l=qa.activePage.children("li"),m=k.children("li");return g===b&&(g=Z(ka,e)),m.css("opacity",0),m.css("visibility","hidden"),k.appendTo(qa.itemsContainer),i(m,1),i(l,0,function(){qa.activePage.remove(),qa.activePage=k,j.resolve()}),j.promise()}function aa(d,e,f){var g,h,i=c.Deferred(),j=Q(d);return f===b&&(f=Z(ka,d)),f>0?(g=qa.activePage.position().left+qa.activePage.width(),h=qa.activePage.position().left-qa.activePage.width()):(g=qa.activePage.position().left-qa.activePage.width(),
h=qa.activePage.position().left+qa.activePage.width()),j.css("left",g),j.appendTo(qa.itemsContainer),a.animate(qa.activePage,{left:h},e),a.animate(j,{left:0},e,null,function(){qa.activePage.remove(),qa.activePage=j,i.resolve()}),i.promise()}function ba(){setTimeout(function(){L(da.afterFirstRender,[ca]),da.afterFirstRender=null},0)}var ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa=[],pa=0,qa={},ra=!1,sa={released:!0,longTouch:!1,touchmovex:0,movex:0,index:0,slideWidth:0,slides:0};this.getElement=function(){
return ja},this.getItems=function(){return oa},this.getItemsNumber=function(){return pa},this.getItem=function(a){return oa[R(a)]},this.addItems=function(b,d,e){var f,g,h,i=[],j=[];for(null==d&&(d=-1),a.isArray(b)||(b=[b]),da.hideOnEmpty&&pa>=da.hideOnMin&&c(da.hideOnEmpty).show(),d=R(d,1),g=0,h=b.length;h>g;g++)f=F(b[g]).width(ga),da.noPagination&&i.push(f),e===!1?(oa[d]||pa++,oa[d]=f):(oa.splice(d,0,f),pa++),j.push(d),d++;return da.noPagination||da.previewNextPage?(oa[d]?oa[d].before(i):oa[oa.length-2].after(i),
t()):X(),ba(),L(da.onItemAdd,[ca,j]),ca},this.removeItems=function(b,d){var e,f,g,h,i=[],j=[];for(a.isArray(b)||(b=[b]),e=0,f=b.length;f>e;e++)i.push(R(b[e],0));for(i.sort(),i=a.getUnique(i),e=i.length-1;e>=0;e--)g=i[e],h=oa[g],j.push(h),h&&(pa--,h.remove()),d===!1?oa[g]=null:oa.splice(g,1);return da.noPagination?(t(),sa.index>sa.slides&&(sa.index--,A(sa.slides))):X(),pa<da.hideOnMin&&da.hideOnEmpty&&c(da.hideOnEmpty).hide(),L(da.onItemRemoval,[ca,i,j]),ca},this.scroll=function(c,d,e){if(!c||da.previewNextPage)return ca;
var f=ka+c;return d===b&&(d=da.scrollDuration),f=na===g.NONE?a.clamp(f,0,la.length-1):(f+la.length)%la.length,Y(f,d,b,b,b,e),ca},this.scrollTo=function(a,c){return da.previewNextPage?ca:(c===b&&(c=da.scrollDuration),a=a>=0?Math.min(a,la.length-1):la.length-Math.min(-a,la.length)&&la.length,Y(ma[a],c),ca)},this.scrollToItem=function(a,c,d){var e;return c||(c=i.LEFT),d===b&&(d=da.scrollDuration),da.scrollMode===k.SIMPLE&&(e=Math.max(a*ga,0),c===i.CENTER?e-=(qa.itemsContainer.width()-ga)/2:c===i.RIGHT&&(e-=qa.itemsContainer.width()-ga),
qa.itemsContainer.stop().animate({scrollLeft:e},d)),ca},this.resetScroll=function(a){return ca.scrollTo(0,a)},this.resize=function(a){var b,c=ka*ia,d=ia;return da.itemAlign===i.CENTER?c+=ia/2|0:da.itemAlign===i.RIGHT&&(c+=ia-1),c=Math.min(oa.length-1,c),a=parseInt(a,10),N(a,!0),b=c/ia|0,a=S(),qa.activePage&&qa.activePage.children().width(a),qa.prevPage&&qa.prevPage.children().width(a),qa.nextPage&&qa.nextPage.children().width(a),W(),na=ca.getScrollLoop(),d!==ia?Y(b,0,f.NONE,!0,!0):(J(b),V(b)),L(da.onResize,[ca]),
ca},this.getVisibleIndexes=function(){var a,b=la&&la[ka]&&la[ka].items;return da.noPagination?U():(da.previewNextPage&&T()<qa.itemsContainer.width()&&(a=la[ka+1]?ka+1:0,b=b.concat(la[a].items[0])),b)},this.getItemsPerPage=function(){return ia},this.getElements=function(a){var b,c,d=la[a].items,e=[];for(b=0,c=d.length;c>b;b++)e.push(d[b]);return e},this.getScrollLoop=function(){return oa.length>2*ia?da.scrollLoop:da.scrollLoop===g.NONE?g.NONE:g.HARD},q.apply(this,arguments)};return m.getPcOptions=function(){
return{indexStyle:j.LIST,indexClickable:!0,indexMinPages:2,itemStyle:h.FLOW,itemAlign:i.LEFT,scrollEffect:f.ALPHA,scrollLoop:g.HARD,lastPageFill:l.NONE,autoScroll:!1,autoScrollDelay:2e3,autoScrollPauseOnHover:!0,autoScrollPauseOnBg:!0,scrollDuration:400,imageLazyLoad:"data-r-src",hideOnMin:1,noPagination:!1,previewNextPage:!1,scrollMode:k.DRAG,css:{slideshowClass:"r-slideshow",slideshowBodyClass:"r-slideshow-body",pageClass:"r-slideshow-page",itemsContainerClass:"r-slideshow-items",itemClass:"r-slideshow-item",
prevButtonClass:"r-slideshow-scroll-button-prev",nextButtonClass:"r-slideshow-scroll-button-next",scrollButtonDisabledClass:"r-slideshow-scroll-button-disabled",scrollingClass:"r-slideshow-scrolling",indexContainerClass:"r-slideshow-index-container",indexClass:"r-slideshow-index",indexItemClass:"r-slideshow-index-item",indexItemActiveClass:"r-slideshow-index-item-active",noPaginationClass:"r-slideshow-no-paginate",simpleScrollClass:"r-slideshow-simple-scroll",previewNextClass:"r-slideshow-preview-next"
}}},m.getSpOptions=function(){return c.extend(m.getPcOptions(),{indexStyle:j.FIXED_LIST,indexClickable:!1,scrollEffect:f.SLIDE,scrollLoop:g.SOFT,scrollDuration:200,swipe:!0})},m.ScrollEffect=f,m.ScrollLoop=g,m.ScrollMode=k,m.ItemStyle=h,m.ItemAlign=i,m.IndexStyle=j,m.LastPageFill=l,a.ui.Slideshow=m,a.ui.Slideshow}(R),function(a,b){"use strict";var c=a.$,d={defaultTab:0,tabActiveClass:"rTabsTabActive",tabDisabledClass:"rTabsTabDisabled",eventName:"click",pagesContainer:document},e=function(e,f){function g(a,b){
a.data("R.ui.Tabs",n),l=c.extend(!0,{},d,b),m=l.eventName+".RuiTabs",n.refresh(!0),h(l.onReady,[n])}function h(b,c){a.isFunction(b)&&b.apply(null,c)}function i(b,d){var e,f,g;if(a.isNumber(b))return 0>b&&(b+=o.length+d),b;if(b instanceof c){for(b=b[0],e=0,f=o.length;f>e;e++)if(g=o[e],g&&b===g[0])return e;return null}if(a.isDom(b)){for(e=0,f=o.length;f>e;e++)if(g=o[e],g&&g===o[0])return e;return null}if(b)throw"Wrong parameter";return null}var j,k,l,m,n=this,o=[],p=[];this.disable=function(a){a===b?e.addClass(l.tabDisabledClass):(a=i(a,0),
o[a]&&o[a].addClass(l.tabDisabledClass))},this.enable=function(a){a===b?e.removeClass(l.tabDisabledClass):(a=i(a,0),o[a]&&o[a].removeClass(l.tabDisabledClass))},this.focus=function(a,b){if(!e.hasClass(l.tabDisabledClass)){a=i(a);var c=o[a],d=p[a],f=j,g=k;c&&!c.hasClass(l.tabDisabledClass)&&(c!==j||d!==k)&&(b||h(l.beforeChange,[n,j,k,c,d]),j&&j.removeClass(l.tabActiveClass),k&&k.hide(),c.addClass(l.tabActiveClass),d&&d.show(),j=c,k=d,b||h(l.afterChange,[n,j,k,f,g]))}},this.getElement=function(){return e;
},this.getTabs=function(){return o},this.getPages=function(){return p},this.getActiveTab=function(){return j},this.getActivePage=function(){return k},this.refresh=function(a){var b=c(l.pagesContainer);return o=[],p=[],c.each(e.find("li"),function(a,d){var e,f=c(d),g=f.find("a");o[a]=f,e=b.find(g.attr("href")),e.length&&(p[a]=e),g.off(m).on(m,function(b){b.preventDefault(),b.stopPropagation(),n.focus(a)})}),n.focus(l.defaultTab,a),n},g.apply(this,arguments)};return a.ui.Tabs=e,a.ui.Tabs}(R);
//# sourceMappingURL=R.ui-1.3.2.min.js.map
return RUi; });}