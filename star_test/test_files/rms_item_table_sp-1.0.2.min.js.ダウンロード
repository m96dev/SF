/*
 rms_item_table_sp-1.0.2.js
 Copyright (c) 2018 Rakuten.Inc
 Date : 2018-03-05 13:52:51
*/
Rmodules.define(["jQuery","R^1"],function(a,d){if("function"!==typeof a)return!1;a(function(){var c=function(){this.$el=void 0;this.getElements();this.events()};c.prototype={getElements:function(){this.$window=a(window);this.$el=a('table[rules="wrapper"]');this.$elLastTr=this.$el.children("tbody").find("tr:last")||this.$el.children("tr:last");this.$insertContent=a('<tr bordercolor="tableRMSOverlay"><td><p>もっと見る</p></td></tr>');this.heightThreshold=350},events:function(){this.$el.height()>this.heightThreshold&&
(this.$el.height(this.heightThreshold),this.$window.bind("load",{_self:this},this.addContent))},addContent:function(a){a=a.data._self;a.$elLastTr.after(a.$insertContent);d.sendToSc({prop18:"item_SP_seeMoreShown"})}};new c});a(function(){var c=function(){this.$el=void 0;this.getElements();this.events()};c.prototype={getElements:function(){this.$el=a('table[rules="wrapperInner"]');this.$elWrapper=a('table[rules="wrapper"]');this.elOverlay='tr[bordercolor="tableRMSOverlay"]';this.$elOverlay=a(this.elOverlay);
this.elHeight=this.$el.height();this.heightThreshold=350},events:function(){if(this.$el.height()>this.heightThreshold)this.$el.on("click touchend",this.elOverlay,{_self:this},this.showContent)},showContent:function(a){var b=a.data._self;b.$elWrapper.animate({height:b.elHeight},{complete:function(){b.$elWrapper.attr("style","height: auto;")}});b.$elWrapper.addClass("accordion_wrapper_open");b.$elOverlay.delay(200).queue(function(){b.$elOverlay.attr("style","display:none!important").dequeue()});d.sendToSc({prop18:"item_SP_seeMoreClick"})}};
new c})});
