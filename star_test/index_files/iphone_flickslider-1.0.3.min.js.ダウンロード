/*
 [iphone_flickslider] [1.0.2]
 Copyright (c) 2016 Rakuten.Inc
 Date : 2016-12-12 19:04:05
*/
(function(d){if("function"===typeof d&&d.RJS_Helpers){var g="others",l=!1,i="",k=0,q=0,m=0,j=0,n=0,o=0,p=function(r){var a=this;if("undefined"!==typeof r){var p={settings:{sliderWidth:d(window).width(),slideImageBaseWidth:140,slideImageBaseHeight:140,slideBorderSize:0,slideMargin:0,slideCount:0,startindex:1,reviewflag:0},eobj:{proto:!1,timerId:!1,flickSliderWrapper:!1,flickSlider:!1,slider:!1,slides:!1,sliderParentId:"",sliderScrollbar:!1,scrollIndicator:!1},itemPrototype:{html:"",height:0,width:0,
identifiers:{itemurl:["",/\#ITEMURL\#/g,""],imageurl:['<img class="slider-image" src="',/\#ITEMIMGELE\#/g,'" >'],itemname:["",/\#ITEMNAME\#/g,""],itemprice:["",/\#ITEMPRICE\#/g,""],reviewave:["",/\#REVIEWAVE\#/g,""]}}};d.extend(!0,this,p,r);d.extend(this,{initialize:function(){if(1>a.items.length||!a.eobj.flickSlider)return a;a.settings.slideWidth=a.settings.slideImageBaseWidth+2*(a.settings.slideBorderSize+a.settings.slideMargin);var b=a.settings.sliderWidth-a.settings.slideWidth;a.settings.sliderSpace=
0>b?0:Math.round(b/2);a.settings.adjustSpace=8;a.settings.slideSetWidth=a.settings.slideWidth*a.settings.slideCount;a.settings.sliderInnerWidth=0+2*a.settings.adjustSpace+a.settings.slideSetWidth;a.settings.centerOfSlider=a.settings.slideWidth*(a.settings.startindex-1);a.settings.isFlickingSlider=!1;a.settings.isAdjustingDisplay=!1;a.prepareItems();a.eobj.slider.css({"z-index":-1});a.eobj.slides=a.eobj.slider.children(".slider-item");a.eobj.slides.css({width:a.settings.slideImageBaseWidth});a.eobj.slider.children(".space").css({width:a.settings.adjustSpace,
margin:0});a.settings.scrollbarWidth=a.settings.sliderWidth-20;if(0>a.settings.scrollbarWidth)a.settings.scrollbarWidth=0;a.settings.indicatorWidth=Math.round(a.settings.scrollbarWidth*(a.settings.sliderWidth/a.settings.sliderInnerWidth));b=d(a.eobj.sliderParentId);a.eobj.sliderScrollbar=b.find(".slider-scrollbar");a.eobj.scrollIndicator=b.find(".scroll-indicator");a.eobj.sliderScrollbar.css({width:a.settings.scrollbarWidth});a.eobj.scrollIndicator.css({width:a.settings.indicatorWidth});0<=navigator.userAgent.indexOf("iPhone")||
0<=navigator.userAgent.indexOf("iPod")?g="iPhone":0<=navigator.userAgent.indexOf("Android 2")&&(g="Android 2");o=a.settings.sliderInnerWidth;return a},prepareItems:function(){for(var b=a.itemPrototype.html,c=a.itemPrototype.identifiers,d="",e=0;e<a.settings.slideCount;e++){var f=b,g=a.items[e],h;for(h in c)c.hasOwnProperty(h)&&(f="reviewave"==h?f.replace(c[h][1],a.getReviewHtml(g)):f.replace(c[h][1],void 0!==g[h]?c[h][0]+g[h]+c[h][2]:""));f=0===e?f.slice(0,f.length-1)+"<\!--":e===a.settings.slideCount-
1?"--\>"+f.slice(1,f.length):"--\>"+f.slice(1,f.length-1)+"<\!--";d+=f}a.eobj.slider.append(d);return a},getReviewHtml:function(b){var c="";if(a.settings.reviewflag&&void 0!==b.reviewave){var d=Math.floor(b.reviewave),b=parseInt(10*(b.reviewave-d),10),e;for(e=0;e<d;e++)c+='<img width="14" src="https://r.r10s.jp/com/img/rms/storefront/pc/page/smart/reviewstar_y.png" height="14">';5<=b&&(c+='<img width="14" src="https://r.r10s.jp/com/img/rms/storefront/pc/page/smart/reviewstar_h.png" height="14">',
e++);for(;5>e;e++)c+='<img width="14" src="https://r.r10s.jp/com/img/rms/storefront/pc/page/smart/reviewstar_g.png" height="14">';c+="</dd>"}return c},setActions:function(){d(window).bind("resize",function(){var b=d(window).width();if(a.settings.sliderWidth!=b){a.settings.sliderWidth=b;b=a.settings.sliderWidth-a.settings.slideWidth;a.settings.sliderSpace=0>b?0:Math.round(b/2);a.settings.adjustSpace=8;a.settings.slideSetWidth=a.settings.slideWidth*a.settings.slideCount;a.settings.sliderInnerWidth=
0+2*a.settings.adjustSpace+a.settings.slideSetWidth;a.settings.centerOfSlider=a.settings.slideWidth*(a.settings.startindex-1);a.eobj.slider.children(".space").css("width",a.settings.adjustSpace);a.settings.isAdjustingDisplay=!0;a.settings.scrollbarWidth=a.settings.sliderWidth-20;if(0>a.settings.scrollbarWidth)a.settings.scrollbarWidth=0;a.settings.indicatorWidth=Math.round(a.settings.scrollbarWidth*(a.settings.sliderWidth/a.settings.sliderInnerWidth));a.eobj.sliderScrollbar.css({width:a.settings.scrollbarWidth});
a.eobj.scrollIndicator.css({width:a.settings.indicatorWidth});o=a.settings.sliderInnerWidth}});a.eobj.slider.bind({touchstart:function(b){a.settings.isAdjustingDisplay=!1;a.settings.isFlickingSlider=!0;"iPhone"!==g&&a.eobj.sliderScrollbar.animate({"transition-duration":"0ms","-webkit-transition-duration":"0ms",opacity:"1"},1);if("Android 2"===g)a.eobj.slider.stop(),b=b.originalEvent,l=!1,b=b.touches[0],k=j=b.pageX,q=n=b.pageY,m=a.eobj.slider.scrollLeft(),i="";a.eobj.timerId&&clearTimeout(a.eobj.timerId)},
touchmove:function(b){if("Android 2"===g&&"Y"!==i){var b=b.originalEvent,c=b.touches[0];j=c.pageX;n=c.pageY;c=Math.abs(k-j);Math.abs(q-n);""===i&&5<c&&(i="X",b.preventDefault());!l&&20<c&&(l=!0);b=m+(k-j);a.eobj.slider.stop();a.eobj.slider.scrollLeft(b)}},touchend:function(b){if("Android 2"===g){if("Y"!==i){j=b.originalEvent.changedTouches[0].pageX;var b=m+(k-j),c=a.eobj.slider.scrollLeft();0<c&&c<o&&(a.eobj.slider.stop(),a.eobj.slider.scrollLeft(b))}i=""}a.settings.isFlickingSlider=!1;a.scheduleAdjust();
a.eobj.sliderScrollbar.animate({"transition-duration":"500ms","-webkit-transition-duration":"500ms",opacity:"0"},500)}});a.eobj.slider.scroll(function(){a.eobj.slider.scrollX=a.eobj.slider.scrollLeft();a.settings.isFlickingSlider||a.scheduleAdjust();var b="translate("+Math.round(a.settings.scrollbarWidth*(a.eobj.slider.scrollX/a.settings.sliderInnerWidth))+"px, 0px) translateZ(0px)";a.eobj.scrollIndicator.css({transform:b,"-webkit-transform":b})});return a},scheduleAdjust:function(){a.eobj.timerId&&
clearTimeout(a.eobj.timerId)}});a.initialize();a.setActions();a.eobj.flickSliderWrapper&&a.eobj.flickSliderWrapper.css("display","block");a.eobj.slider.scrollX=a.settings.centerOfSlider}};d.fn.flickSlide=function(d){this.each(function(){new p(d)})}}})(window.jQuery);
